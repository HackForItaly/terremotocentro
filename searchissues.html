---
layout: search
---

<div class="row">
  <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <div class="search form-inline text-center">
      <form action="{{ site.baseurl }}/searchissues" method="get">
        <label for="search-box">Cosa Stai Cercando?</label>
        <input type="text" id="search-box" name="query">
        <input type="submit" value="Cerca">
      </form>
      <img class="search-spinner" src="/img/spinner--squares.svg" />
    </div>
    <ul id="search-results"></ul>
  </div>
</div>

<script>

function urldecode(str) {
   return decodeURIComponent((str+'').replace(/\+/g, '%20'));
}

window.store = {};
    {% for member in site.data.issuesjson %}
window.store["{{site.url}}/issues/{{member.number}}"]={
        "title": urldecode("{{ member.title | strip_html | url_encode }}"),
        {% if member.issue.labels contains "Notizie Utili" %}
        "category": "Notizie Utili",
        {% elsif member.issue.labels contains "Alloggi" %}
        "category": "Alloggi",
        {% elsif member.issue.labels contains "Donazioni" %}
        "category": "Donazioni",
        {% elsif member.issue.labels contains "Fabbisogni" %}
        "category": "Fabbisogni",
        {% elsif member.issue.labels contains "Raccolte Fondi" %}
        "category": "Raccolte Fondi",
        {% elsif member.issue.labels contains "Bollettino" %}
        "category": "Bollettino",
        {% else %}
        "category": "",
        {% endif %}
        {% if member.issue.data.descrizione != blank %}
        "content": urldecode("{{ member.issue.data.descrizione | url_encode }}"),
        {% else %}
        "content": "",
        {% endif %}
        "url": "{{site.url}}/issues/{{member.number}}"
};
    {% endfor %}
</script>
<script type="text/javascript" src="../js/lunr.min.js"></script>
<script type="text/javascript" src="../js/search.js"></script>
